\documentclass{article}
\usepackage[margin=1in]{geometry}
\usepackage{listings, listings-rust}
\lstset{
    language=Rust,
    basicstyle=\footnotesize,
    numbers=left,
    stepnumber=1,
    showstringspaces=false,
    tabsize=1,
    breaklines=true,
    breakatwhitespace=false,
}

\begin{document}

\lstinputlisting[language=Rust]{code.rs}

\end{document}
